<!DOCTYPE html>
<html>

<head>
  <title>Plant disease</title>
  <!--meta tags -->
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!--//meta tags ends here-->
  <!--booststrap-->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
    integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
  <!--//booststrap end-->

  <!-- font-awesome icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"
    integrity="sha512-SfTiTlX6kk+qitfevl/7LibUOeJWlt9rbyDn92a1DqWOw9vWG2MFoays0sgObmWazO5BQPiFucnnEAjpAB+/Sw=="
    crossorigin="anonymous" />
  <!-- //font-awesome icons -->

  <!--stylesheets-->
  <link href="../static/styles/style.css" rel='stylesheet' type='text/css' media="all">
  <!--//stylesheets-->
 
</head>

<body>
  <div class="main-top" id="home">
    <!-- header -->
    <div class="headder-top">
      <!-- nav -->
      <nav>
        <div id="logo">
          <h1><a href="index.html">Plant Disease Detection and Classification using Artificial Intelligence</a></h1>
        </div>
        <label for="drop" class="toggle">Menu</label>
        <input type="checkbox" id="drop">
        <ul class="menu mt-2">
          <li class="active"><a href="#home">Home</a></li>
          <li><a href="#about">About</a></li>
          <li><a href="#features">Features</a></li>
          <li><a href="#test">Detect</a></li>
        </ul>
      </nav>
      <!-- //nav -->
    </div>
    <!-- //header -->
    <!-- banner -->
    <div class="main-banner text-center">
      <div class="container">
        <div class="style-banner">
          <h4 class="mb-2">Welcome To Plant Disease and Pest Detection </h4>
          <h5>Offering Farming Solutions Worldwide
          </h5>
        </div>
        <div class="two-demo-button mt-md-4 mt-3">
          <p> Developing models for making disease detection easy and providing solutions for improving crop production
          </p>
        </div>

      </div>
    </div>
  </div>
  <!-- //banner -->

  <!-- about -->
  <section class="about py-lg-4 py-md-3 py-sm-3 py-3" id="about">
    <div class="container py-lg-5 py-md-4 py-sm-4 py-3">
      <div class="row">
        <div class="col-lg-6 about-imgs-txt pt-3">
          <img src="../static/images/4.jpg" alt="news image" class="img-fluid" style="border-radius: 8px;">
        </div>
        <div class="col-lg-6 text-justify about-two-grids pt-3">
          <h3 class="title text-center">About</h3>
          <div class="about-para-txt">
            <p>Food security for billions of people on earth requires minimizing crop damage by timely detection of
              diseases.Developing methods for detection of plant diseases serves the dual purpose of increasing crop
              yield and reducing pesticide use without knowing about the proper disease. Along with development of
              better crop varieties, disease detection is thus paramount goal for achieving food security. The
              traditional method of disease detection has been to use manual examination by either farmers or experts,
              which can be time consuming and costly, proving infeasible for millions of small and medium sized farms
              around the world.</p>
          </div>
        </div>
      </div>
    </div>
  </section>
  <!-- //about -->
  <script>
    // This script will run immediately after the page has finished loading
    window.onload = function() {
        // Check if the 'res' variable is part of the window's URL (assuming it's passed as a query parameter)
        var res = new URLSearchParams(window.location.search).get('res');
        if (res === "this is not a leaf") {
            // If 'res' is "this is not a leaf", show the alert
            alert(res);
        }
    }
</script>
  <!-- service -->
  <section class="service pb-5 " id="features">
    <div class="container ">
      <h3 class="title text-center mb-3">Features</h3>
      <div class="row">
        <div class="col-lg-4 col-md-6 col-sm-6 mt-lg-4 mt-3 service-grid-wthree text-center">
          <div class="ser-Agriculture-grid">
            <div class="about-icon mb-md-4 mb-3">
              <span class="fa fa-viadeo" aria-hidden="true"></span>
            </div>
            <div class="ser-sevice-grid">
              <h4 class="pb-3">Easy Detection</h4>
              <p>Just need to click and upload leaf image.</p>
            </div>
          </div>
        </div>
        <div class="col-lg-4 col-md-6 col-sm-6 mt-lg-4 mt-3 service-grid-wthree text-center">
          <div class="ser-Agriculture-grid">
            <div class="about-icon mb-md-4 mb-3">
              <span class="fa fa-pagelines" aria-hidden="true"></span>
            </div>
            <div class="ser-sevice-grid">
              <h4 class="pb-3">Cause and Solution</h4>
              <p>Provides the cause and solution of the identified diseases.</p>
            </div>
          </div>
        </div>
        <div class="col-lg-4 col-md-6 col-sm-6 mt-lg-4 mt-3 service-grid-wthree text-center">
          <div class="ser-Agriculture-grid">
            <div class="about-icon mb-md-4 mb-3">
              <span class="fa fa-leaf" aria-hidden="true"></span>
            </div>
            <div class="ser-sevice-grid">
              <h4 class="pb-3">Large Plant Support</h4>
              <p>Supports around 14 different types of plants.</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>


  <section class="blog_w3ls py-3 pb-5 pt-10" id="test">
    <div class="container pb-xl-5 pb-lg-3">
      <h3 class="title text-center mb-lg-5 mb-md-4 mb-sm-4 mb-3"> Test Your Plants</h3>
      <div class="row" style="justify-content: center;">
        <h2>Audio Instructions</h2>
            <form action="{{ url_for('togglePlayPause') }}" method="POST" id="languageForm">
              <div class="form-group">
                <label for="languages">Choose a language:</label>
                <select id="languages" name="languages" class="form-control">
                  <option>Choose</option>
                  <option value="english">English</option>
                  <option value="hindi">Hindi</option>
                  <option value="telugu">Telugu</option>
                  <option value="tamil">Tamil</option>
                </select>
              </div>
              <button type="submit" class="btn btn-secondary"> Audio Instructions :</button>
              <br><br>
            </form>
<br><br>

            {% if language %}
            <audio id="audioPlayer" controls autoplay>
              <source id="audioSource" src="{{ url_for('static', filename='audio/' ~ language ~ '_audio.wav') }}" type="audio/wav">
              Your browser doesa not support the audio element.
            </audio>
            {% endif %}

        <form action="{{ url_for('predict') }}" method="POST" enctype=multipart/form-data>
          <div class="form-group text-center">
            <p style="text-align: left;">Instructions for Uploading Images:<br>
              1. Take a clear picture of the diseased plant using your mobile phone or camera.<br>
              2. Make sure the entire plant is visible in the picture.<br>
              3. Ensure there is good lighting to capture the details of the disease.<br>
              4. Avoid blurry or unclear images to ensure accurate diagnosis.<br>
              5. Once you have the picture, click on the "Upload" button below.<br>
              6. Wait patiently while the system processes the image.<br>
              7. You'll receive detailed information about the disease affecting your plant and recommendations for management.<br>
              8. Feel free to contact us if you have any questions or need further assistance.</p><BR><BR>
      
          
                
            




            <!--<h2 style="font-family: monospace;"> Audio Player Instructions to upload image</h2>
            <br>

  <div id="language-selector">
    <label for="languages">Choose a language:</label>
    <select id="languages" name="languages">
      <option value="english">English</option>
      <option value="hindi">Hindi</option>
      <option value="telugu">Telugu</option>
      <option value="tamil">Tamil</option>
    </select>
  </div>

  <audio id="audioPlayer" controls style="display: none;">
    <source id="audioSource" src="" type="audio/mpeg">
    Your browser does not support the audio element.
  </audio>

  <div id="audio-controls">
    <button id="playPauseButton" onclick="togglePlayPause()">▶️</button>
    <button id="restartButton" onclick="restartAudio()">⏮️</button>
  </div>

  <div id="progress-bar">
    <div id="progress"></div>
  </div>

  <script>
    var audioPlayer = document.getElementById("audioPlayer");
    var progress = document.getElementById("progress");
    var playPauseButton = document.getElementById("playPauseButton");

    function togglePlayPause() {
      if (audioPlayer.paused) {
        audioPlayer.play();
        playPauseButton.textContent = "⏸️";
      } else {
        audioPlayer.pause();
        playPauseButton.textContent = "▶️";
      }
    }

    function restartAudio() {
      audioPlayer.currentTime = 0;
      audioPlayer.play();
    }

    function updateProgress() {
      var duration = audioPlayer.duration;
      var currentTime = audioPlayer.currentTime;
      var progressWidth = (currentTime / duration) * 100;
      progress.style.width = progressWidth + "%";
    }

    audioPlayer.addEventListener("timeupdate", updateProgress);
    audioPlayer.addEventListener("ended", function() {
      playPauseButton.textContent = "▶️";
    });

    // Keyboard shortcuts
    document.addEventListener("keydown", function(event) {
      switch (event.key) {
        case " ":
          togglePlayPause();
          break;
        case "r":
          restartAudio();
          break;
        case "ArrowRight":
          audioPlayer.currentTime += 5;
          break;
        case "ArrowLeft":
          audioPlayer.currentTime -= 5;
          break;
      }
    });

    // Language selection
    document.getElementById("languages").addEventListener("change", function() {
      var selectedLanguage = this.value;
      var audioFilePath = "";

      switch (selectedLanguage) {
        case "english":
          audioFilePath = "english_audio.wav";
          break;
        case "hindi":
          audioFilePath = "hindi_audio.wav";
          break;
        case "telugu":
          audioFilePath = "telugu_audio.wav";
          break;
        case "tamil":
          audioFilePath = "tamil_audio.wav";
          break;
      }

      // Set audio source
      document.getElementById("audioSource").src = audioFilePath;

      // Load and play audio
      audioPlayer.load();
      audioPlayer.play();
    });
  </script>-->
  
  
            <br><label for="exampleFormControlFile1"><b>Input a file</b></label>
            <br><br>
            <div class="center-container" style="display: flex; justify-content: center; align-items:center; position:relative; float:left; right:-300px">
            <input type="file" name="file" class="form-control-file" id="inputImage" onchange=previewImage(event)
              required>
            <br/>
            </div>
          
            <button class="btn btn-primary" type="submit"> Predict </button>
          </div>
        </form>
      </div>
      <img id="output-image" class="rounded mx-auto d-block" />
      <br />
    </div>

  </section>
{% if res %}
    <script>
        // Check if the message is 'this is not a leaf'
        if ("{{ res }}" === "this is not a leaf") {
            // Display the popup message
            alert("{{ res }}");
        }
    </script>
    {% endif %}
  <!-- footer -->
  <footer>
    <div class="container pt-5 pb-3">
      <div class="footer-w3layouts-head text-center">
        <h2><a href="index.html">Plant disease</a></h2>
      </div>
      <div class="bottem-wthree-footer text-center pt-md-4 pt-3">
        
      </div>
      <!-- move icon -->
      <div class="text-center">
        <a href="#home" class="move-top text-center mt-3"><i class="fa fa-arrow-up" aria-hidden="true"></i></a>
      </div>
      <!--//move icon -->
    </div>
  </footer>
  <!--//footer -->

  <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
    integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
    crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"
    integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
    crossorigin="anonymous"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"
    integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
    crossorigin="anonymous"></script>

  <script>
    function previewImage(event) {
      var reader = new FileReader();
      reader.onload = function () {
        var output = document.getElementById('output-image')
        output.src = reader.result;
      }
      reader.readAsDataURL(event.target.files[0]);
    }
  </script>
</body>

</html>